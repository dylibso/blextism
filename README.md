# Blextism - Blender + Extism

This repository provides **three** :crab: Rust crates and **two** :snake: Python modules:

1. :snake: A `genschema.py` module that uses Blender's RNA system to perform reflection, generating a schema file.
2. :crab: A `bindgen` crate that uses the schema to generate comprehensive Rust bindings to the [Python Blender API][bpy].
3. :crab: A `pdk` crate that receives the `bindings.rs` generated by `bindgen` and combines them with some
   basic type definitions.
4. :crab: A `plugin` that acts as an example Blender Wasm project; it ports [this demo][demo] from [CG Python's Youtube video][video].
5. :snake: A `run.py` module that installs the Extism [`python-sdk`][python-sdk], installs appropriate host functions, then runs
   the Wasm file generated by the `plugin` module.

---

## The Demo Plugin

https://github.com/dylibso/blextism/assets/37303/86d0d8e5-ad1d-4b76-8e2e-80dbe198ff71

This library is demo-quality. It is missing aspects that would make it
production-grade. Most notably, it handwaves around errors thrown by the host.

[bpy]: https://docs.blender.org/api/current/
[demo]: https://github.com/CGArtPython/blender_plus_python/blob/main/geo_nodes/subdivided_triangulated_cube/subdivided_triangulated_cube_part_2_done.py
[video]: https://www.youtube.com/watch?v=hlZ_cFSlaMs
[python-sdk]: https://github.com/extism/python-sdk/

# License

BSD 3-Clause
